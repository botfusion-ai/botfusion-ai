<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>BotFusion AI</title>

<link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#0c0c16">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,Arial;
  background:#0c0c16;
  color:#e9e9ef;
  display:flex;
  height:100vh;
}

/* SIDEBAR */
.sidebar{
  width:260px;
  background:#0f111a;
  border-right:1px solid #1f2233;
  position:fixed;
  left:-260px;
  top:0;
  bottom:0;
  transition:.25s;
  padding:14px;
}
.sidebar.open{left:0}
.sidebar h2{margin:10px 0 20px;font-size:18px}
.nav-btn{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  margin-bottom:6px;
  border-radius:10px;
  cursor:pointer;
  background:#131626;
  border:1px solid #1f2234;
}
.nav-btn:hover{background:#181c2f}

/* TOPBAR */
.topbar{
  height:54px;
  background:#0c0c16;
  display:flex;
  align-items:center;
  gap:12px;
  padding:0 14px;
  border-bottom:1px solid #1f2234;
}
.hamburger{
  font-size:20px;
  cursor:pointer;
}

/* CHAT AREA */
.main{
  flex:1;
  margin-left:0;
  display:flex;
  flex-direction:column;
}
.content{
  flex:1;
  overflow-y:auto;
  padding:14px;
}
.message{
  border:1px solid #1f2234;
  background:#0f111a;
  padding:10px 12px;
  border-radius:12px;
  margin-bottom:10px;
}
.bot{background:#111427}

/* TYPING */
#typing{
  display:none;
  opacity:.8;
  font-size:13px;
}

/* INPUT */
.input-row{
  display:flex;
  gap:10px;
  padding:10px;
  border-top:1px solid #1f2234;
}
input{
  flex:1;
  padding:12px;
  border-radius:10px;
  border:1px solid #1f2234;
  background:#0f111a;
  color:white;
}
button{
  padding:10px 14px;
  border-radius:10px;
  border:1px solid #2a2f4d;
  background:#1a1f33;
  color:white;
  cursor:pointer;
}
button:hover{background:#242a49}

/* SETTINGS PANEL */
.panel{
  display:none;
  padding:14px;
}
.panel.active{display:block}

/* INSTALL BUTTON */
#installBtn{margin-top:14px}

/* MOBILE FIX */
@media(max-width:800px){
  .main{margin-left:0}
}
</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <h2>BotFusion</h2>

  <div class="nav-btn" onclick="openPanel('chatPanel')">ðŸ’¬ Chat</div>
  <div class="nav-btn" onclick="openPanel('toolsPanel')">ðŸ›  Tools</div>
  <div class="nav-btn" onclick="openPanel('profilePanel')">ðŸ‘¤ Profile</div>
  <div class="nav-btn" onclick="openPanel('settingsPanel')">âš™ Settings</div>
  <div class="nav-btn" onclick="openPanel('aboutPanel')">â„¹ About</div>
</div>

<!-- MAIN -->
<div class="main">

  <div class="topbar">
    <span class="hamburger" onclick="toggleMenu()">â˜°</span>
    <strong>BotFusion AI</strong>
  </div>

  <!-- CHAT -->
  <div id="chatPanel" class="panel active">
    <div class="content" id="messages"></div>

    <div id="typing">BotFusion is typingâ€¦</div>

    <div class="input-row">
      <input id="userInput" placeholder="Ask anythingâ€¦" />
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <!-- TOOLS -->
  <div id="toolsPanel" class="panel">
    <h3>Quick Tools</h3>
    <button onclick="quick('summarize')">Summarize</button>
    <button onclick="quick('analyze')">Analyze</button>
    <button onclick="quick('list')">Make List</button>
    <button onclick="quick('image')">Create Image</button>
  </div>

  <!-- PROFILE -->
  <div id="profilePanel" class="panel">
    <h3>Profile</h3>
    <p id="userName">Not logged in</p>
    <button onclick="googleLogin()">Login with Google</button>
    <button onclick="googleLogout()">Logout</button>
  </div>

  <!-- SETTINGS -->
  <div id="settingsPanel" class="panel">
    <h3>Settings</h3>

    Theme:
    <button onclick="setTheme('dark')">Dark</button>
    <button onclick="setTheme('light')">Light</button>

    <br><br>
    <button id="installBtn" style="display:none;">Install App</button>
  </div>

  <!-- ABOUT -->
  <div id="aboutPanel" class="panel">
    <h3>About BotFusion</h3>
    <p>BotFusion AI â€” smart assistant for research, writing, coding, images, and more.</p>
    <p>Version: 1.0</p>
    <p>License: MIT</p>
  </div>

</div>

<script>
// SIDEBAR
function toggleMenu(){
  document.getElementById("sidebar").classList.toggle("open");
}
function openPanel(id){
  document.querySelectorAll(".panel").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.getElementById("sidebar").classList.remove("open");
}

// CHAT
function addMessage(text,who){
  const box=document.createElement("div");
  box.className="message "+(who==="bot"?"bot":"");
  box.innerText=text;
  document.getElementById("messages").appendChild(box);
}

async function sendMessage(){
  const input=document.getElementById("userInput");
  const text=input.value.trim();
  if(!text) return;
  addMessage(text,"user");
  input.value="";
  document.getElementById("typing").style.display="block";
<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-auth.js"></script>

<script>
/* ðŸ”¥ YOUR FIREBASE CONFIG (paste from Firebase here) */
const firebaseConfig = {
 apiKey: "AIzaSyDA62eN5MEjX9Z-gw6w9UuR8L-Ke_6J7eE",
  authDomain: "botfusion-ai-bd6d0.firebaseapp.com",
  projectId: "botfusion-ai-bd6d0",
  storageBucket: "botfusion-ai-bd6d0.firebasestorage.app",
  messagingSenderId: "730477136598",
  appId: "1:730477136598:web:c6b4e0d495744d12079777",
  measurementId: "G-53FTWNQB8X"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
</script>
// connect to backend later â€” fake reply for now
  setTimeout(()=>{
    document.getElementById("typing").style.display="none";
    addMessage("I received: "+text,"bot");
  },1200);
}

// QUICK TOOLS
function quick(type){
  addMessage("Running: "+type,"user");
}

// THEME
function setTheme(mode){
  if(mode==="light"){
    document.body.style.background="#ffffff";
    document.body.style.color="#111";
  }else{
    document.body.style.background="#0c0c16";
    document.body.style.color="#e9e9ef";
  }
}

// GOOGLE LOGIN (placeholder â€” connect later)
async function googleLogin(){
  const provider = new firebase.auth.GoogleAuthProvider();
  try {
    const result = await auth.signInWithPopup(provider);
    const user = result.user;

    document.getElementById("userName").innerText =
      user.displayName + " (" + user.email + ")";
  } catch (err) {
    alert("Login failed: " + err.message);
  }
auth.onAuthStateChanged(user=>{
  if(user){
    document.getElementById("userName").innerText =
      user.displayName + " (" + user.email + ")";
  }
});
}

async function googleLogout(){
  await auth.signOut();
  document.getElementById("userName").innerText = "Not logged in";
}

// PWA
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("service-worker.js");
}

let deferredPrompt;
const installBtn=document.getElementById("installBtn");
window.addEventListener("beforeinstallprompt",(e)=>{
  e.preventDefault();
  deferredPrompt=e;
  installBtn.style.display="inline-block";
  installBtn.onclick=async()=>{
    installBtn.style.display="none";
    deferredPrompt.prompt();
    await deferredPrompt.userChoice;
    deferredPrompt=null;
  };
});
</script>

</body>
</html>
